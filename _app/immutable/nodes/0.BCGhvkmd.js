import{f as g,a as c,d as ke,c as ue}from"../chunks/Dl5Yzwme.js";import"../chunks/BhKfAKPo.js";import{x as ye,aX as Le,a2 as me,aq as fe,O as u,N as D,j as N,g as e,ar as Ne,a3 as B,c as v,r as i,s as C,t as E,u as q,a4 as he,a5 as He}from"../chunks/B8hsJoxf.js";import{s as V,e as we,i as Ae,r as Te,a as Oe}from"../chunks/CrMFJSnh.js";import{o as Pe}from"../chunks/DjN3QPGq.js";import{s as K,e as J}from"../chunks/Cj8dfRza.js";import{i as H}from"../chunks/BL7Ms3Bf.js";import{d as Me,b as ze}from"../chunks/fQjJrMy0.js";import{i as ge}from"../chunks/nTidvg6x.js";import{p as I,s as oe,a as _e,b as de}from"../chunks/DDbbkkDR.js";import{t as De}from"../chunks/BVEhXgIt.js";import{s as Ee}from"../chunks/BiIUXlkC.js";import{w as be}from"../chunks/B-FiseiF.js";function se(t,o,a,f,b,h){var d=t.__className;if(ye||d!==a||d===void 0){var r=De(a,f);(!ye||r!==t.getAttribute("class"))&&(r==null?t.removeAttribute("class"):o?t.className=r:t.setAttribute("class",r)),t.__className=a}return h}const pe=Le,Ie=!0,Fe=!0,wa=Object.freeze(Object.defineProperty({__proto__:null,csr:Fe,prerender:Ie},Symbol.toStringTag,{value:"Module"})),Ge=()=>{const t=Ee;return{page:{subscribe:t.page.subscribe},navigating:{subscribe:t.navigating.subscribe},updated:t.updated}},Se={subscribe(t){return Ge().page.subscribe(t)}};var We=ke('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"><animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0 60 70" to=" 0 60 370" dur="10s" repeatCount="indefinite"></animateTransform></path>'),qe=ke('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path>'),Be=g("<a> </a>"),Je=g('<div class="subitems svelte-1ij5xie"></div>'),Ke=g('<a><span class="flex items-center"> </span> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><!></svg></a> <!>',1);function Ve(t,o){me(o,!1);const a=()=>oe(Se,"$page",f),[f,b]=_e(),h=D(),d=D();let r=I(o,"name",8,"Kategorie"),_=I(o,"href",8,""),l=I(o,"openedMenu",12,""),w=I(o,"items",8),L=D(!1);function ne(){u(L,!e(L)),e(L)?l(r()):l("")}fe(()=>(a(),N(_())),()=>{u(h,a().url.pathname===_())}),fe(()=>(N(w()),a()),()=>{u(d,Array.isArray(w())&&w().some(p=>a().url.pathname===p.href||a().url.pathname.startsWith(`${p.href}/`)))}),fe(()=>(e(d),N(l()),N(r())),()=>{e(d)?u(L,!0):u(L,l()===r())}),Ne(),ge();var U=Ke(),T=B(U),X=v(T),ie=v(X,!0);i(X);var F=C(X,2),ee=v(F);{var Q=p=>{var A=We();c(p,A)},ae=p=>{var A=qe();c(p,A)};H(ee,p=>{l()===r()?p(Q):p(ae,!1)})}i(F),i(T);var le=C(T,2);{var ve=p=>{var A=Je();we(A,5,w,Ae,(ce,M)=>{var te=ue(),re=B(te);{var n=s=>{var m=Be(),y=v(m,!0);i(m),E(S=>{V(m,"href",(e(M),q(()=>e(M).href))),se(m,1,`subitem ${S??""}`,"svelte-1ij5xie"),K(y,(e(M),q(()=>e(M).name)))},[()=>(a(),e(M),q(()=>a().url.pathname.endsWith(e(M).href)?"active":""))]),c(s,m)};H(re,s=>{e(M),N(pe),q(()=>e(M).env==="dev"&&pe||e(M).env==="prod")&&s(n)})}c(ce,te)}),i(A),c(p,A)};H(le,p=>{l()===r()&&p(ve)})}E(p=>{V(T,"href",_()),se(T,1,`nav-group ${a(),N(_()),N(l()),N(r()),q(()=>a().url.pathname===_()||l()===r()?"active":"")??""} ${p??""}`,"svelte-1ij5xie"),K(ie,r()),se(F,0,`h-5 ${l()===r()?"animate-spin-x-0-180":"animate-spin-x-180-0"}`)},[()=>(e(d),a(),N(_()),q(()=>e(d)&&!a().url.pathname.startsWith(`${_()}/`)?"parent-highlight":""))]),J("click",T,ne),c(t,U),he(),b()}var Ue=g("<a> </a>");function Xe(t,o){me(o,!1);const a=()=>oe(Se,"$page",f),[f,b]=_e();let h=I(o,"href",8),d=I(o,"text",8),r=I(o,"rel",8,""),_=I(o,"openedMenu",12,"");ge();var l=Ue(),w=v(l,!0);i(l),E(L=>{V(l,"rel",r()),V(l,"href",h()),se(l,1,`nav-link ${L??""}`,"svelte-14n3hhp"),K(w,d())},[()=>(a(),N(h()),q(()=>a().url.pathname.endsWith(h())?"active":""))]),J("click",l,()=>{_("")}),c(t,l),he(),b()}const Qe=[{name:"Home",href:"/",env:"prod",top_hr:"false",subitems:[]},{name:"Dcity",href:"/dcity",env:"dev",top_hr:"false",subitems:[{name:"Market",href:"/dcity/market",env:"dev"},{name:"3D City",href:"/dcity/dcitymap3d",env:"dev"},{name:"MyCity",href:"/dcity/mycity",env:"dev"},{name:"Highscore",href:"/dcity/highscore",env:"dev"}]},{name:"Exode",href:"/exode",env:"dev",top_hr:"false",subitems:[{name:"New Cards",href:"/exode/newcards",env:"dev"},{name:"Allcards",href:"/exode/allcards",env:"dev"},{name:"Highscores",href:"/exode/highscores",env:"dev"},{name:"Latestscores",href:"/exode/latestscores",env:"dev"},{name:"My Games",href:"/exode/mygames",env:"dev"}]},{name:"Statistics",href:"/statistics",env:"prod",top_hr:"false",subitems:[{name:"Votecharts",href:"/statistics/votecharts",env:"prod"},{name:"Activitymap",href:"/statistics/heatmap",env:"prod"}]},{name:"Blockexplorer",href:"/blockexplorer",env:"dev",top_hr:"false",subitems:[]},{name:"Components",href:"/components",env:"dev",top_hr:"false",subitems:[]},{name:"Delegations",href:"/delegations",env:"dev",top_hr:"false",subitems:[]},{name:"Hiveaccount",href:"/hiveaccount",env:"dev",top_hr:"false",subitems:[]},{name:"Hiveaccount2",href:"/hiveaccount2",env:"dev",top_hr:"false",subitems:[]},{name:"Hiveblocks",href:"/hiveblocks",env:"dev",top_hr:"false",subitems:[]},{name:"Playercards",href:"/playercards",env:"dev",top_hr:"false",subitems:[]},{name:"Playground",href:"/playground",env:"dev",top_hr:"false",subitems:[{name:"Markdown Test",href:"/playground/markdowntest",env:"prod"},{name:"Keychain Test",href:"/playground/keychaintest",env:"prod"},{name:"3D City",href:"/playground/map3d",env:"prod"}]},{name:"About",href:"/about",env:"dev",top_hr:"true",subitems:[]}],je=localStorage.getItem("account")??"",$e=be(je),Z=be(je);Z.subscribe(t=>{const o=typeof t=="string"?t:"";try{o?localStorage.setItem("account",o):localStorage.removeItem("account")}catch(a){console.error("Failed to persist login state",a)}$e.set(o)});const Ce=be("");let Y=null;function Re(){return Y||(Y=(async()=>{var t;try{const a=await new Me.Client(["https://api.hive.blog","https://api.hivekings.com","https://anyx.io","https://api.openhive.network"]).database.call("get_accounts",[["tools4hive"]]),f=a==null?void 0:a[0],b=xe(f==null?void 0:f.posting_json_metadata)||xe(f==null?void 0:f.json_metadata),h=((t=b==null?void 0:b.profile)==null?void 0:t.profile_image)??"";h&&Ce.set(h)}catch(o){console.error("Failed to load logo avatar",o)}})().finally(()=>{Y=null}),Y)}function xe(t){if(!t)return null;if(typeof t=="object")return t;if(typeof t=="string")try{return JSON.parse(t)}catch(o){console.error("Failed to parse account metadata",o)}return null}var Ye=g('<img alt="" class="svelte-mfxfye"/>'),Ze=g("<span>TH</span>"),ea=g('<img alt="" class="svelte-mfxfye"/>'),aa=g("<span> </span>"),ta=g('<div class="account-card svelte-mfxfye"><div class="avatar svelte-mfxfye" aria-hidden="true"><!></div> <div class="account-copy svelte-mfxfye"><p class="name svelte-mfxfye"> </p> <p class="meta svelte-mfxfye">Angemeldet <button class="link svelte-mfxfye">Logout</button></p></div></div>'),ra=g('<button class="btn primary svelte-mfxfye">Login</button>'),sa=g('<label class="label svelte-mfxfye" for="sidebar-account">Account</label> <input id="sidebar-account" class="input svelte-mfxfye" placeholder="Account Name"/> <button class="btn primary svelte-mfxfye"> </button>',1),oa=g('<hr class="mt-6"/>'),na=g('<!> <ul class="pr-6"><!></ul>',1),ia=g('<div class="pt-4 px-3 pb-6"><div><a href="." class="flex title-font font-medium items-center md:justify-start justify-center gap-3 text-slate-50"><div class="logo-avatar svelte-mfxfye" aria-hidden="true"><!></div> <div class="logo-text svelte-mfxfye"><span class="brand text-lg uppercase tracking-widest font-semibold svelte-mfxfye">TOOLS4HIVE</span> <span class="byline svelte-mfxfye">by @cryptoriddler</span></div></a> <hr class="mt-4 border-slate-500/40"/> <div class="login-card svelte-mfxfye"><!></div> <div class="nav svelte-mfxfye"></div></div></div>');function la(t,o){me(o,!1);const a=()=>oe(Z,"$userloggedin",b),f=()=>oe(Ce,"$logoAvatar",b),[b,h]=_e();let d=D(""),r=D(""),_=D(!1),l=D(!1),w=D(""),L;const ne=n=>{n.code==="Enter"&&T()};Pe(()=>{Re(),u(r,a()),a()&&U()});async function U(){var n;if(e(r))try{const s=new Me.Client(["https://api.hive.blog","https://api.hivekings.com","https://anyx.io","https://api.openhive.network"]),m=await s.database.call("lookup_accounts",[e(r),1]);L=await s.database.call("get_accounts",[m]);const y=L[0];if((y==null?void 0:y.name)===e(r)&&y.json_metadata){const S=JSON.parse(y.json_metadata);u(w,((n=S==null?void 0:S.profile)==null?void 0:n.profile_image)??"")}}catch(s){console.error("Failed to load account info",s)}}async function T(){if(e(r)){u(l,!0);try{hive_keychain.requestHandshake(function(){console.log("Handshake received!")}),hive_keychain.requestSignBuffer(""+e(r),"message","Posting",function(n){n.success?(de(Z,e(r)),$e.set(e(r)),U()):(de(Z,""),u(_,!1),u(r,""))})}finally{u(l,!1)}}}function X(){u(_,!0)}function ie(){de(Z,""),u(r,""),u(_,!1),u(w,"")}ge();var F=ia(),ee=v(F),Q=v(ee),ae=v(Q),le=v(ae);{var ve=n=>{var s=Ye();E(()=>V(s,"src",f())),c(n,s)},p=n=>{var s=Ze();c(n,s)};H(le,n=>{f()?n(ve):n(p,!1)})}i(ae),He(2),i(Q);var A=C(Q,4),ce=v(A);{var M=n=>{var s=ta(),m=v(s),y=v(m);{var S=P=>{var z=ea();E(()=>V(z,"src",e(w))),c(P,z)},x=P=>{var z=aa(),k=v(z,!0);i(z),E(W=>K(k,W),[()=>a().slice(0,2).toUpperCase()]),c(P,z)};H(y,P=>{e(w)?P(S):P(x,!1)})}i(m);var j=C(m,2),$=v(j),O=v($);i($);var G=C($,2),R=C(v(G));i(G),i(j),i(s),E(()=>K(O,`@${a()??""}`)),J("click",R,ie),c(n,s)},te=n=>{var s=ue(),m=B(s);{var y=x=>{var j=ra();J("click",j,X),c(x,j)},S=x=>{var j=sa(),$=C(B(j),2);Te($);var O=C($,2),G=v(O,!0);i(O),E(()=>{O.disabled=e(l),K(G,e(l)?"...":"Login")}),ze($,()=>e(r),R=>u(r,R)),J("keypress",$,ne),J("click",O,T),c(x,j)};H(m,x=>{e(_)?x(S,!1):x(y)})}c(n,s)};H(ce,n=>{a()?n(M):n(te,!1)})}i(A);var re=C(A,2);we(re,5,()=>Qe,Ae,(n,s)=>{var m=ue(),y=B(m);{var S=x=>{var j=na(),$=B(j);{var O=k=>{var W=oa();c(k,W)};H($,k=>{e(s).top_hr==="true"&&k(O)})}var G=C($,2),R=v(G);{var P=k=>{Ve(k,{get name(){return e(s).name},get href(){return e(s).href},get items(){return e(s).subitems},get openedMenu(){return e(d)},set openedMenu(W){u(d,W)},$$legacy:!0})},z=k=>{Xe(k,{get text(){return e(s).name},get href(){return e(s).href},get openedMenu(){return e(d)},set openedMenu(W){u(d,W)},$$legacy:!0})};H(R,k=>{e(s).subitems.length!==0?k(P):k(z,!1)})}i(G),c(x,j)};H(y,x=>{(e(s).env==="dev"&&pe||e(s).env==="prod")&&x(S)})}c(n,m)}),i(re),i(ee),i(F),c(t,F),he(),h()}var va=g(`<div class="flex h-screen w-full overflow-x-hidden bg-ht_hivegrey"><aside class="flex w-60 min-w-[14rem] flex-shrink-0 flex-col overflow-y-auto tracking-wider" style="
      background:#0f1f2f;
      color:#e6edf5;
      box-shadow: 10px 0 28px rgba(0,0,0,0.35), 2px 0 0 rgba(255,255,255,0.06);
      position: relative;
      z-index: 2;"><!></aside> <div class="flex flex-1 min-w-0 flex-col h-full"><main class="flex-1 overflow-y-auto bg-ht_hivegrey text-ht_hiveblack text-center"><!></main></div></div>`);function Aa(t,o){var a=va(),f=v(a),b=v(f);la(b,{}),i(f);var h=C(f,2),d=v(h),r=v(d);Oe(r,o,"default",{},null),i(d),i(h),i(a),c(t,a)}export{Aa as component,wa as universal};
